{"version":3,"sources":["components/DropdownMenu/dropdownMenu.module.css","components/DropdownMenu/more_horiz-24px.svg","components/common/Loader/data_usage-24px.svg","components/MainEventsButton/mainEventsButton.module.css","components/MainEventsButton/burger.svg","components/Auth/visibility-black-18dp.svg","components/Auth/visibility_off-black-18dp.svg","components/CreatorButton/CreatorButton.module.css","components/PostsSliceButtons/PostsSliceButtons.module.css","components/common/Dropdown/Dropdown.js","components/common/Dropdown/DropdownItem.js","components/DropdownMenu/index.js","api/api.js","utils/localStorageItemsSetters.js","redux/ducks/onlines.js","components/common/Loader/index.js","components/common/Popup/index.js","components/OnlineEditor/index.js","components/Online/index.js","components/OnlinesPage/index.js","utils/socialMediaNodesGetters/getInstagramNode.js","utils/getScriptNode.js","utils/defineSocialMedia.js","utils/socialMediaNodesGetters/getTelegramNode.js","utils/socialMediaNodesGetters/getFacebookNode.js","utils/socialMediaNodesGetters/getYoutubeNode.js","redux/ducks/posts.js","components/Switcher/index.js","components/PostEditor/index.js","components/Post/index.js","hooks/useEmbed.js","utils/isLink.js","components/PostsSliceButtons/index.js","components/BackpostsLoader/index.js","components/Posts/index.js","components/MainEvent/index.js","components/MainEvents/index.js","components/MainEventsButton/index.js","components/PostsPage/index.js","redux/ducks/auth.js","components/Auth/index.js","components/AuthPage/index.js","components/CreatorButton/index.js","components/OnlineCreator/index.js","components/AdminOnlines/index.js","components/AdminPage/index.js","components/PostCreator/index.js","components/AdminPosts/index.js","hooks/useLogin.js","components/ProtectedRoute/index.js","components/Pages/index.js","components/App/App.js","redux/configureStore.js","index.js","components/Auth/auth.module.css","components/PostCreator/postCreator.module.css","components/PostEditor/postEditor.module.css","components/common/Popup/popup.module.css","components/Switcher/button.module.css","components/MainEvent/mainEvent.module.css","components/common/Dropdown/dropdown.module.css","components/PostsPage/postsPage.module.css","components/common/Loader/loader.module.css","components/OnlineEditor/onlineEditor.module.css","components/Posts/posts.module.css","components/Post/post.module.css","components/BackpostsLoader/backpostsLoader.module.css","components/Posts/arrow_downward-24px.svg","components/Posts/arrow_upward-24px.svg","components/MainEvents/mainEvents.module.css","components/OnlineCreator/onlineCreator.module.css"],"names":["module","exports","Dropdown","opened","handleClick","children","onOutsideClick","className","s","dropdown","DropdownItem","action","dropdownItem","onClick","DropdownMenu","handlePopup","handleEditor","useState","setDropdown","e","stopPropagation","button","src","icon","alt","fetchRequest","path","method","params","fetch","headers","localStorage","getItem","Accept","withCredentials","body","JSON","stringify","then","res","json","post","del","patch","initialState","loading","items","creating","editing","deleting","reversed","parse","postsCount","mainEventsBarOpened","onlinesLoaded","dispatch","type","payload","catch","error","alert","orderReversed","id","ls","undefined","setItem","setOrderReversed","postsCountSet","count","setPostsCount","mainEventsBarHandled","setMainEventsBarOpened","Loader","size","cl","loader","large","small","Popup","isOpened","text","cancel","useEffect","document","style","overflow","removeProperty","background","popup","buttons","disabled","OnlineEditor","online","useDispatch","useSelector","state","onlines","blocksFromHtml","htmlToDraft","introtext","contentBlocks","entityMap","contentState","ContentState","createFromBlockArray","editorState","EditorState","createWithContent","title","setTitle","content","setContent","clicked","setClicked","onlineEditor","time","dayjs","startedDate","format","placeholder","value","onChange","target","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","onlineId","onlineEdited","_id","draftToHtml","convertToRaw","getCurrentContent","Online","isAdmin","history","useHistory","setPopup","editor","setEditor","extend","Calendar","push","calendar","sameDay","lastDay","lastWeek","sameElse","dangerouslySetInnerHTML","__html","OnlinesPage","sort","a","b","Date","map","key","url","splittedUrl","split","response","html","getScriptNode","createElement","href","hostname","defineSocialMedia","script","async","setAttribute","pathname","getTelegramNode","encoded","encodeURIComponent","iframe","width","height","scrolling","frameBorder","allow","getFacebookNode","getInstagramNode","getYoutubeNode","backLoading","temp","postsLoaded","Switcher","defaultValue","onSwitchedOn","onSwitchedOff","isOn","setIsOn","switcher","backgroundOff","backgroundOn","round","PostEditor","item","posts","importance","setImportance","handleSwitch","postEditor","importantPostEditor","createdDate","handlers","postId","important","postEdited","Post","ref","useRef","embedHook","result","setResult","splittedContent","divForContent","forEach","part","indexOf","node","Promise","innerHTML","append","insertAdjacentHTML","remove","useEmbed","current","card","importantCard","PostsSliceButtons","useParams","hasOwnProperty","setCount","buttonsGroup","activeButton","endButton","BackpostsLoader","backpostsLoader","inner","length","Posts","newItems","slice","CSSTransition","in","timeout","classNames","unmountOnExit","separate","newPostsBorder","downwardIcon","upwardIcon","MainEvent","mainEvent","getElementById","scrollIntoView","block","behavior","checkpoint","MainEvents","filteredItems","filter","mainEvents","MainEventsButton","handleMainEventsBar","PostsPage","i","setInterval","getState","lastPostTime","backgroundPosts","backgroundPostsLoaded","clearInterval","postsPage","success","fetching","authorized","jwt","Auth","auth","setError","login","setLogin","password","setPassword","visibility","setVisibility","passwordRef","status","token","userAuthorised","handleKeyDown","keyCode","emptyForms","to","input","onKeyDown","focus","visibilityOffIcon","visibilityOnIcon","AuthPage","CreatorButton","OnlineCreator","m","useRouteMatch","broadcastCreator","setBroadcastCreator","createEmpty","creatorOpened","setCreatorOpened","handleBroadcastCreator","isEmpty","getPlainText","editorRef","onBlur","photoId","onlineCreated","AdminOnlines","AdminPage","PostCreator","postCreator","setPostCreator","handlePostCreator","importantPostCreator","postCreated","AdminPosts","useLogin","admin","setAdmin","setFetching","useMemo","ProtectedRoute","exact","Pages","App","middlewares","updateLocale","weekdays","createLogger","diff","collapsed","applyMiddleware","thunk","reducer","combineReducers","oldValue","prevValue","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.1e4626bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"dropdownMenu_button__LO0GI\"};","module.exports = __webpack_public_path__ + \"static/media/more_horiz-24px.d644ed95.svg\";","module.exports = __webpack_public_path__ + \"static/media/data_usage-24px.4d007d82.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"mainEventsButton_button__7n6UQ\"};","module.exports = __webpack_public_path__ + \"static/media/burger.9212ce7d.svg\";","module.exports = __webpack_public_path__ + \"static/media/visibility-black-18dp.dcb5e951.svg\";","module.exports = __webpack_public_path__ + \"static/media/visibility_off-black-18dp.29e98e99.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CreatorButton_button__EZd5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonsGroup\":\"PostsSliceButtons_buttonsGroup__1bZnX\",\"text\":\"PostsSliceButtons_text__2sLvA\",\"button\":\"PostsSliceButtons_button__2DsDI\",\"endButton\":\"PostsSliceButtons_endButton__3tMoZ\",\"activeButton\":\"PostsSliceButtons_activeButton__1cI88\"};","import React from \"react\";\nimport s from \"./dropdown.module.css\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\n\nfunction Dropdown({ opened, handleClick, children }) {\n  if (opened === false) {\n    return null;\n  }\n\n  return (\n    <OutsideClickHandler onOutsideClick={handleClick}>\n      <div className={s.dropdown}>{children}</div>\n    </OutsideClickHandler>\n  );\n}\n\nexport default Dropdown;\n","import React from \"react\";\nimport s from \"./dropdown.module.css\";\n\nfunction DropdownItem({ children, action }) {\n  return (\n    <div className={s.dropdownItem} onClick={action}>\n      {children}\n    </div>\n  );\n}\n\nexport default DropdownItem;\n","import React, { useState } from \"react\";\nimport Dropdown from \"../common/Dropdown/Dropdown\";\nimport DropdownItem from \"../common/Dropdown/DropdownItem\";\nimport s from \"./dropdownMenu.module.css\";\nimport icon from \"./more_horiz-24px.svg\";\n\nfunction DropdownMenu({ handlePopup, handleEditor }) {\n  const [dropdown, setDropdown] = useState(false);\n  const handleClick = (e) => {\n    e.stopPropagation();\n    setDropdown(!dropdown);\n  };\n\n  const handleOpenPopup = (e) => {\n    e.stopPropagation();\n    handlePopup();\n    setDropdown(!dropdown);\n  };\n\n  const handleOpenEditor = (e) => {\n    e.stopPropagation();\n    handleEditor();\n    setDropdown(!dropdown);\n  };\n\n  return (\n    <div>\n      <button className={s.button} onClick={handleClick}>\n        <img src={icon} alt=\"icon\" />\n      </button>\n      <Dropdown opened={dropdown} handleClick={handleClick}>\n        <DropdownItem action={handleOpenEditor}>Изменить</DropdownItem>\n        <DropdownItem action={handleOpenPopup}>Удалить</DropdownItem>\n      </Dropdown>\n    </div>\n  );\n}\n\nexport default DropdownMenu;\n","export function fetchRequest(path, method, params) {\n  const ip = \"https://api.intocode.ru:5005/api\";\n  return fetch(ip + path, {\n    method,\n    headers: {\n      \"x-auth-token\": localStorage.getItem(\"token\"),\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    withCredentials: true,\n\n    body: JSON.stringify(params),\n  }).then((res) => res.json());\n}\n\nexport function post(path, params) {\n  return fetchRequest(path, \"post\", params);\n}\n\nexport function del(path, params) {\n  return fetchRequest(path, \"delete\", params);\n}\n\nexport function get(path, params) {\n  return fetchRequest(path, \"get\", params);\n}\n\nexport function patch(path, params) {\n  return fetchRequest(path, \"PATCH\", params);\n}\n","export const setOrderReversed = (id) => {\n  const ls = JSON.parse(localStorage.getItem(\"reversed\")) || {};\n\n  if (ls[id] !== undefined) {\n    ls[id] = !ls[id];\n  } else {\n    ls[id] = true;\n  }\n\n  localStorage.setItem(\"reversed\", JSON.stringify(ls));\n}\n\nexport const setPostsCount = (id, count) => {\n  const postsCount = JSON.parse(localStorage.getItem(\"postsCount\")) || {};\n\n  postsCount[id] = count;\n\n  localStorage.setItem(\"postsCount\", JSON.stringify(postsCount));\n}\n\nexport const setMainEventsBarOpened = (id) => {\n  const ls = JSON.parse(localStorage.getItem(\"mainEventsBarOpened\")) || {};\n\n  if (ls[id] !== undefined) {\n    ls[id] = !ls[id];\n  } else {\n    ls[id] = true;\n  }\n\n  localStorage.setItem(\"mainEventsBarOpened\", JSON.stringify(ls));\n}","import { del, fetchRequest, patch, post } from \"../../api/api\";\nimport {\n  setMainEventsBarOpened,\n  setOrderReversed,\n  setPostsCount,\n} from \"../../utils/localStorageItemsSetters\";\n\nconst LOAD_STARTED = \"onlines/load/started\";\nconst LOAD_SUCCEED = \"onlines/load/succeed\";\nconst CREATE_STARTED = \"online/create/started\";\nconst CREATE_SUCCEED = \"online/create/succeed\";\nconst DELETE_STARTED = \"onlines/delete/started\";\nconst DELETE_SUCCEED = \"onlines/delete/succeed\";\nconst EDIT_STARTED = \"onlines/edit/started\";\nconst EDIT_SUCCEED = \"onlines/edit/succeed\";\nconst POSTS_REVERSED = \"posts/order/reversed\";\nconst POSTS_COUNT_SET = \"posts/count/set\";\nconst MAIN_EVENTS_HANDLED = \"main/events/handled\";\n\nconst reversed =\n  localStorage.getItem(\"reversed\") === null\n    ? {}\n    : JSON.parse(localStorage.getItem(\"reversed\"));\n\nconst postsCount =\n  localStorage.getItem(\"postsCount\") === null\n    ? {}\n    : JSON.parse(localStorage.getItem(\"postsCount\"));\n\nconst mainEventsBarOpened =\n  localStorage.getItem(\"mainEventsBarOpened\") === null\n    ? {}\n    : JSON.parse(localStorage.getItem(\"mainEventsBarOpened\"));\n\nconst initialState = {\n  loading: false,\n  items: [],\n  creating: false,\n  editing: false,\n  deleting: false,\n  reversed,\n  postsCount,\n  mainEventsBarOpened,\n};\n\nexport default function onlines(state = initialState, action) {\n  switch (action.type) {\n    case POSTS_REVERSED:\n      const oldValue =\n        state.reversed[action.payload] !== undefined\n          ? state.reversed[action.payload]\n          : false;\n\n      return {\n        ...state,\n        reversed: {\n          ...state.reversed,\n          [action.payload]: !oldValue,\n        },\n      };\n\n    case POSTS_COUNT_SET:\n      return {\n        ...state,\n        postsCount: {\n          ...state.postsCount,\n          [action.payload.id]: action.payload.count,\n        },\n      };\n\n    case MAIN_EVENTS_HANDLED:\n      const prevValue =\n        state.mainEventsBarOpened[action.payload] !== undefined\n          ? state.mainEventsBarOpened[action.payload]\n          : false;\n\n      return {\n        ...state,\n        mainEventsBarOpened: {\n          ...state.mainEventsBarOpened,\n          [action.payload]: !prevValue,\n        },\n      };\n\n    case LOAD_STARTED:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case LOAD_SUCCEED:\n      return {\n        ...state,\n        items: action.payload,\n        loading: false,\n      };\n\n    case CREATE_STARTED:\n      return {\n        ...state,\n        creating: true,\n      };\n\n    case CREATE_SUCCEED:\n      return {\n        ...state,\n        items: [action.payload, ...state.items],\n        creating: false,\n      };\n\n    case DELETE_STARTED:\n      return {\n        ...state,\n        deleting: true,\n      };\n\n    case DELETE_SUCCEED:\n      return {\n        ...state,\n        items: state.items.filter((item) => item._id !== action.payload),\n        deleting: false,\n      };\n\n    case EDIT_STARTED:\n      return {\n        ...state,\n        editing: true,\n      };\n\n    case EDIT_SUCCEED:\n      return {\n        ...state,\n        items: state.items.map((item) => {\n          if (item._id === action.payload._id) {\n            return action.payload;\n          }\n\n          return item;\n        }),\n        editing: false,\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function onlinesLoaded() {\n  return (dispatch) => {\n    dispatch({ type: LOAD_STARTED });\n\n    fetchRequest(\"/onlines\")\n      .then((json) => {\n        dispatch({\n          type: LOAD_SUCCEED,\n          payload: json,\n        });\n      })\n      .catch((error) => {\n        alert(\"Возникла ошибка при загрузке данных\");\n      });\n  };\n}\n\nexport function onlineCreated(title, introtext, photoId) {\n  return (dispatch) => {\n    dispatch({ type: CREATE_STARTED });\n\n    post(\"/onlines\", { title, introtext, photoId }).then((json) => {\n      dispatch({\n        type: CREATE_SUCCEED,\n        payload: json,\n      });\n    });\n  };\n}\n\nexport function onlineDeleted(onlineId) {\n  return (dispatch) => {\n    dispatch({ type: DELETE_STARTED });\n\n    del(`/onlines/${onlineId}`).then((json) => {\n      dispatch({\n        type: DELETE_SUCCEED,\n        payload: onlineId,\n      });\n    });\n  };\n}\n\nexport function onlineEdited(onlineId, title, introtext) {\n  return (dispatch) => {\n    dispatch({ type: EDIT_STARTED });\n\n    patch(`/onlines/${onlineId}`, { title, introtext }).then((json) => {\n      dispatch({\n        type: EDIT_SUCCEED,\n        payload: json,\n      });\n    });\n  };\n}\n\nexport function orderReversed(id) {\n  setOrderReversed(id);\n\n  return {\n    type: POSTS_REVERSED,\n    payload: id,\n  };\n}\n\nexport function postsCountSet(id, count) {\n  setPostsCount(id, count);\n\n  return {\n    type: POSTS_COUNT_SET,\n    payload: { id, count },\n  };\n}\n\nexport function mainEventsBarHandled(id) {\n  setMainEventsBarOpened(id);\n\n  return {\n    type: MAIN_EVENTS_HANDLED,\n    payload: id,\n  };\n}\n","import React from \"react\";\nimport s from \"./loader.module.css\";\nimport icon from \"./data_usage-24px.svg\";\nimport cl from \"classnames\";\n\nfunction Loader({ size }) {\n  return (\n    <img\n      src={icon}\n      className={cl(s.loader, {\n        [s.large]: size === \"large\",\n        [s.small]: size === \"small\",\n      })}\n      alt=\"loading\"\n    />\n  );\n}\n\nexport default Loader;\n","import React, { useEffect } from \"react\";\nimport s from \"./popup.module.css\";\nimport Loader from \"../Loader\";\n\nfunction Popup({ isOpened, text, action, cancel, deleting }) {\n  useEffect(() => {\n    if (isOpened) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.removeProperty(\"overflow\");\n    }\n  }, [isOpened]);\n\n  if (!isOpened) {\n    return null;\n  }\n\n  return (\n    <div className={s.background} onClick={cancel}>\n      <div className={s.popup}>\n        <div>{text}</div>\n        <div className={s.buttons}>\n          <div>\n            <button className=\"cancel-button\" onClick={cancel}>\n              Отмена\n            </button>\n          </div>\n          <div>\n            <div>\n              <button\n                className=\"confirm-button\"\n                onClick={action}\n                disabled={deleting}\n              >\n                Удалить\n              </button>\n            </div>\n            <div className={s.loader}>\n              {deleting && <Loader size=\"small\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Popup;\n","import React, { useEffect, useState } from \"react\";\nimport s from \"./onlineEditor.module.css\";\nimport dayjs from \"dayjs\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport Loader from \"../common/Loader\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport { EditorState, ContentState, convertToRaw } from \"draft-js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { onlineEdited } from \"../../redux/ducks/onlines\";\nimport draftToHtml from \"draftjs-to-html\";\n\nfunction OnlineEditor({ isOpened, online, cancel }) {\n  const dispatch = useDispatch();\n  const editing = useSelector((state) => state.onlines.editing);\n\n  const blocksFromHtml = htmlToDraft(online.introtext);\n  const { contentBlocks, entityMap } = blocksFromHtml;\n  const contentState = ContentState.createFromBlockArray(\n    contentBlocks,\n    entityMap\n  );\n  const editorState = EditorState.createWithContent(contentState);\n\n  const [title, setTitle] = useState(online.title);\n  const handleChangeTitle = (e) => setTitle(e.target.value);\n\n  const [content, setContent] = useState(editorState);\n  const handleChangeContent = (editorState) => setContent(editorState);\n\n  const [clicked, setClicked] = useState(false);\n\n  const handleEditOnline = () => {\n    setClicked(true);\n    dispatch(\n      onlineEdited(\n        online._id,\n        title,\n        draftToHtml(convertToRaw(content.getCurrentContent()))\n      )\n    );\n  };\n\n  useEffect(() => {\n    if (isOpened) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.removeProperty(\"overflow\");\n    }\n  }, [isOpened]);\n\n  if (!editing && clicked) {\n    cancel();\n    setClicked(false);\n  }\n\n  if (!isOpened) {\n    return null;\n  }\n\n  return (\n    <div className=\"popup-background\">\n      <div className={s.onlineEditor}>\n        <div className={s.time}>\n          {dayjs(online.startedDate).format(\"HH:mm\")}\n        </div>\n        <div>\n          <textarea\n            className=\"title\"\n            placeholder=\"Введите заголовок\"\n            value={title}\n            onChange={handleChangeTitle}\n          />\n        </div>\n        <div>\n          <Editor\n            editorState={content}\n            placeholder=\"Введите контент\"\n            toolbarClassName=\"toolbarClassName\"\n            wrapperClassName=\"wrapperClassName\"\n            editorClassName=\"editorClassName\"\n            onEditorStateChange={handleChangeContent}\n          />\n        </div>\n        <div className={s.buttons}>\n          <div>\n            <button className=\"cancel-button\" onClick={cancel}>\n              Отмена\n            </button>\n          </div>\n          <div>\n            <button\n              className=\"confirm-button\"\n              onClick={handleEditOnline}\n              disabled={editing}\n            >\n              Изменить\n            </button>\n            <div className=\"button-loader\">\n              {editing && <Loader size=\"small\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default OnlineEditor;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DropdownMenu from \"../DropdownMenu\";\nimport { onlineDeleted } from \"../../redux/ducks/onlines\";\nimport Popup from \"../common/Popup\";\nimport OnlineEditor from \"../OnlineEditor\";\nimport Calendar from \"dayjs/plugin/calendar\";\n\nfunction Online({ online, isAdmin }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const deleting = useSelector((state) => state.onlines.deleting);\n\n  const handleClick = () => {\n    if (isAdmin) {\n      history.push(\"/admin/\" + online._id);\n    } else {\n      history.push(\"/\" + online._id);\n    }\n  };\n\n  const [popup, setPopup] = useState(false);\n  const handlePopup = () => setPopup(!popup);\n\n  const [clicked, setClicked] = useState(false);\n\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    setClicked(true);\n    dispatch(onlineDeleted(online._id, online.title, online.introtext));\n  };\n\n  if (!deleting && clicked) {\n    handlePopup();\n    setClicked(false);\n  }\n\n  const [editor, setEditor] = useState(false);\n  const handleEditor = () => setEditor(!editor);\n\n  dayjs.extend(Calendar);\n\n  return (\n    <div>\n      <div className=\"online-form\" onClick={handleClick}>\n        <div className=\"time1\">\n          {dayjs(online.startedDate).calendar(null, {\n            sameDay: \"[Сегодня] HH:mm\",\n            lastDay: \"[Вчера] HH:mm\",\n            lastWeek: \"dddd HH:mm\",\n            sameElse: \"DD/MM/YYYY\",\n          })}\n          {isAdmin ? (\n            <DropdownMenu\n              handlePopup={handlePopup}\n              handleEditor={handleEditor}\n            />\n          ) : null}\n        </div>\n        <div className=\"title\">{online.title}</div>\n        <div\n          className=\"content\"\n          dangerouslySetInnerHTML={{ __html: online.introtext }}\n        />\n      </div>\n      <Popup\n        isOpened={popup}\n        cancel={handlePopup}\n        action={handleDelete}\n        text={\"Подтвердите действие\"}\n        deleting={deleting}\n      />\n      <OnlineEditor online={online} isOpened={editor} cancel={handleEditor} />\n    </div>\n  );\n}\n\nexport default Online;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Online from \"../Online\";\nimport { onlinesLoaded } from \"../../redux/ducks/onlines\";\nimport Loader from \"../common/Loader\";\n\nfunction OnlinesPage() {\n  const dispatch = useDispatch();\n\n  const onlines = useSelector((state) =>\n    state.onlines.items.sort(\n      (a, b) => new Date(b.startedDate) - new Date(a.startedDate)\n    )\n  );\n\n  const loading = useSelector((state) => state.onlines.loading);\n\n  useEffect(() => {\n    dispatch(onlinesLoaded());\n  }, [dispatch]);\n\n  if (loading) {\n    return (\n      <div className=\"loader-large\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {onlines.map((online) => (\n        <Online online={online} key={online._id} />\n      ))}\n    </>\n  );\n}\n\nexport default OnlinesPage;","export default async function getInstagramNode(url) {\n  const splittedUrl = url.split(/\\?.+/);\n\n  const response = await fetch(\n    `https://graph.facebook.com/v8.0/instagram_oembed?url=${splittedUrl[0]}&access_token=1260168264328153|06JlTbK02xcTpl4flpOpCaZu9sc`\n  );\n  const body = await response.json();\n\n  return body.html;\n}\n//https://www.instagram.com/p/CFKwsaZjIp5/?utm_source=ig_web_button_share_sheet\n","import getInstagramNode from \"./socialMediaNodesGetters/getInstagramNode\";\nimport getYoutubeNode from \"./socialMediaNodesGetters/getYoutubeNode\";\nimport getTelegramNode from \"./socialMediaNodesGetters/getTelegramNode\";\nimport getFacebookNode from \"./socialMediaNodesGetters/getFacebookNode\";\nimport defineSocialMedia from \"./defineSocialMedia\";\n\nexport const getScriptNode = (url) => {\n  switch (defineSocialMedia(url)) {\n    case \"telegram\":\n      return getTelegramNode(url);\n\n    case \"facebook\":\n      return getFacebookNode(url);\n\n    case \"instagram\":\n      return getInstagramNode(url);\n\n    case \"youtube\":\n      return getYoutubeNode(url);\n\n    default:\n      return url;\n  }\n};\n","export default function defineSocialMedia(url) {\n  const path = document.createElement(\"a\");\n  path.href = url;\n\n  switch (path.hostname) {\n    case \"t.me\":\n      return \"telegram\";\n\n    case \"www.facebook.com\":\n      return \"facebook\";\n\n    case \"www.instagram.com\":\n      return \"instagram\";\n\n    case \"youtu.be\":\n      return \"youtube\";\n\n    default:\n      return undefined;\n  }\n}\n","export default function getTelegramNode(url) {\n  const path = document.createElement(\"a\");\n  path.href = url;\n\n  const script = document.createElement(\"script\");\n  script.async = true;\n  script.src = \"https://telegram.org/js/telegram-widget.js?11\";\n  script.setAttribute(\"data-telegram-post\", path.pathname);\n\n  return script;\n}\n","export default function getFacebookNode(url) {\n  const encoded = encodeURIComponent(url.split(/(\\S+\\d)/)[1]);\n\n  const iframe = document.createElement(\"iframe\");\n  iframe.src =\n    \"https://www.facebook.com/plugins/post.php?href=\" +\n    encoded +\n    \"&show_text=true&width=552&appId=1260168264328153&height=292\";\n\n  iframe.width = \"100%\";\n  iframe.height = \"390\";\n  iframe.scrolling = \"no\";\n  iframe.frameBorder = \"0\";\n  iframe.allow = \"encrypted-media\";\n  iframe.setAttribute(\"allowTransparency\", \"true\");\n\n  return iframe;\n}\n","export default function getYouTubeNode(url) {\n  const path = document.createElement(\"a\");\n  path.href = url;\n\n  const iframe = document.createElement(\"iframe\");\n  iframe.src = \"https://www.youtube.com/embed/\" + path.pathname.split(/%/)[0];\n  iframe.allow = \"accelerometer\";\n  iframe.frameBorder = \"0\";\n  iframe.width = \"100%\";\n  iframe.height = \"315\";\n\n  return iframe;\n}\n","import { del, fetchRequest, patch, post } from \"../../api/api\";\n\nconst LOAD_STARTED = \"posts/load/started\";\nconst LOAD_SUCCEED = \"posts/load/succeed\";\nconst CREATE_STARTED = \"post/create/started\";\nconst CREATE_SUCCEED = \"post/create/succeed\";\nconst DELETE_STARTED = \"post/delete/started\";\nconst DELETE_SUCCEED = \"post/delete/succeed\";\nconst EDIT_STARTED = \"post/edit/started\";\nconst EDIT_SUCCEED = \"post/edit/succeed\";\nconst BASCKPOSTS_LOAD_STARTED = \"backposts/load/started\";\nconst BASCKPOSTS_LOAD_SUCCEED = \"backposts/load/succeed\";\nconst BASCKPOSTS_APPEND = \"backposts/append/succeed\";\n\nconst initialState = {\n  loading: false,\n  backLoading: false,\n  items: [],\n  temp: [],\n  creating: false,\n  deleting: false,\n  editing: false,\n};\n\nexport default function broadcasts(state = initialState, action) {\n  switch (action.type) {\n    case LOAD_STARTED:\n      return {\n        ...state,\n        items: [],\n        loading: true,\n      };\n\n    case LOAD_SUCCEED:\n      return {\n        ...state,\n        items: action.payload,\n        loading: false,\n      };\n\n    case CREATE_STARTED:\n      return {\n        ...state,\n        creating: true,\n      };\n\n    case CREATE_SUCCEED:\n      return {\n        ...state,\n        items: [action.payload, ...state.items],\n        creating: false,\n      };\n\n    case DELETE_STARTED:\n      return {\n        ...state,\n        deleting: true,\n      };\n\n    case DELETE_SUCCEED:\n      return {\n        ...state,\n        items: state.items.filter((item) => item._id !== action.payload),\n        deleting: false,\n      };\n\n    case EDIT_STARTED:\n      return {\n        ...state,\n        editing: true,\n      };\n\n    case EDIT_SUCCEED:\n      return {\n        ...state,\n        items: state.items.map((item) => {\n          if (item._id === action.payload._id) {\n            return action.payload;\n          }\n\n          return item;\n        }),\n        editing: false,\n      };\n\n    case BASCKPOSTS_LOAD_STARTED:\n      return {\n        ...state,\n        backLoading: true,\n      };\n\n    case BASCKPOSTS_LOAD_SUCCEED:\n      return {\n        ...state,\n        temp: action.payload,\n        backLoading: false,\n      };\n\n    case BASCKPOSTS_APPEND:\n      const lastPostTime = state.items[state.items.length - 1].createdDate;\n\n      return {\n        ...state,\n        temp: [],\n        items: [\n          ...state.items.filter((item) => !item.separate),\n          {\n            content: \"Новые посты\",\n            separate: true,\n            _id: \"separate1\",\n            createdDate: Date.parse(lastPostTime) + 500,\n          },\n          ...state.temp,\n        ],\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function postsLoaded(id) {\n  return (dispatch) => {\n    dispatch({\n      type: LOAD_STARTED,\n      payload: id,\n    });\n\n    fetchRequest(`/onlines/${id}`)\n      .then((json) => {\n        dispatch({\n          type: LOAD_SUCCEED,\n          payload: json,\n        });\n      })\n      .catch((error) => {\n        alert(\"Возникла ошибка при загрузке данных\");\n      });\n  };\n}\n\nexport function postCreated(id, title, content, important) {\n  return (dispatch) => {\n    dispatch({ type: CREATE_STARTED });\n\n    post(`/post/${id}`, { title, content, important }).then((json) => {\n      dispatch({\n        type: CREATE_SUCCEED,\n        payload: json,\n      });\n    });\n  };\n}\n\nexport function postDeleted(postId) {\n  return (dispatch) => {\n    dispatch({ type: DELETE_STARTED });\n\n    del(`/post/${postId}`).then((json) => {\n      dispatch({\n        type: DELETE_SUCCEED,\n        payload: postId,\n      });\n    });\n  };\n}\n\nexport function postEdited(postId, title, content, important) {\n  return (dispatch) => {\n    dispatch({ type: EDIT_STARTED });\n\n    patch(`/post/${postId}`, { title, content, important }).then((json) => {\n      dispatch({\n        type: EDIT_SUCCEED,\n        payload: json,\n      });\n    });\n  };\n}\n\nexport function backgroundPostsLoaded(id) {\n  return (dispatch, getState) => {\n    const { items } = getState().posts;\n\n    fetchRequest(`/onlines/${id}`).then((json) => {\n      const lastPostTime = items[items.length - 1]?.createdDate;\n\n      const backgroundPosts = json.filter(\n        (item) => new Date(item.createdDate) > new Date(lastPostTime)\n      );\n\n      dispatch({\n        type: BASCKPOSTS_LOAD_SUCCEED,\n        payload: backgroundPosts,\n      });\n    });\n  };\n}\n\nexport function backpostsAppended() {\n  return {\n    type: BASCKPOSTS_APPEND,\n  };\n}\n","import React, { useEffect, useState } from \"react\";\nimport s from \"./button.module.css\";\nimport cl from \"classnames\";\n\nfunction Switcher({ defaultValue, onSwitchedOn, onSwitchedOff }) {\n  const [isOn, setIsOn] = useState(defaultValue);\n\n  useEffect(() => {\n    setIsOn(defaultValue);\n  }, [defaultValue]);\n\n  const handleClick = () => {\n    if (isOn) {\n      onSwitchedOff();\n    } else {\n      onSwitchedOn();\n    }\n    setIsOn(!isOn);\n  };\n\n  return (\n    <div className={s.switcher}>\n      <div\n        onClick={handleClick}\n        className={cl(s.backgroundOff, {\n          [s.backgroundOn]: isOn,\n        })}\n      >\n        <div className={s.round} />\n      </div>\n    </div>\n  );\n}\n\nexport default Switcher;\n","import React, { useEffect, useState } from \"react\";\nimport cl from \"classnames\";\nimport s from \"./postEditor.module.css\";\nimport dayjs from \"dayjs\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport Switcher from \"../Switcher\";\nimport Loader from \"../common/Loader\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ContentState, convertToRaw, EditorState } from \"draft-js\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport { postEdited } from \"../../redux/ducks/posts\";\nimport draftToHtml from \"draftjs-to-html\";\n\nfunction PostEditor({ item, isOpened, cancel }) {\n  const dispatch = useDispatch();\n  const editing = useSelector((state) => state.posts.editing);\n\n  const blocksFromHtml = htmlToDraft(item.content);\n  const { contentBlocks, entityMap } = blocksFromHtml;\n  const contentState = ContentState.createFromBlockArray(\n    contentBlocks,\n    entityMap\n  );\n  const editorState = EditorState.createWithContent(contentState);\n\n  const [title, setTitle] = useState(item.title);\n  const handleChangeTitle = (e) => setTitle(e.target.value);\n\n  const [content, setContent] = useState(editorState);\n  const handleChangeContent = (editorState) => setContent(editorState);\n\n  useEffect(() => {\n    if (isOpened) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.removeProperty(\"overflow\");\n    }\n  }, [isOpened]);\n\n  const [importance, setImportance] = useState(false);\n  const handleSwitch = () => setImportance(!importance);\n\n  const [clicked, setClicked] = useState(false);\n\n  const handleEdit = () => {\n    setClicked(true);\n    dispatch(\n      postEdited(\n        item._id,\n        title,\n        draftToHtml(convertToRaw(content.getCurrentContent())),\n        importance\n      )\n    );\n  }\n\n  if (!editing && clicked) {\n    cancel();\n    setClicked(false);\n  }\n\n  if (!isOpened) {\n    return null;\n  }\n\n  return (\n    <div className=\"popup-background\">\n      <div\n        className={cl(s.postEditor, {\n          [s.importantPostEditor]: importance,\n        })}\n      >\n        <div className={s.time}>{dayjs(item.createdDate).format(\"HH:mm\")}</div>\n        <div>\n          <textarea\n            className=\"title\"\n            placeholder=\"Введите заголовок\"\n            value={title}\n            onChange={handleChangeTitle}\n          />\n        </div>\n        <div>\n          <Editor\n            editorState={content}\n            placeholder=\"Введите контент\"\n            toolbarClassName=\"toolbarClassName\"\n            wrapperClassName=\"wrapperClassName\"\n            editorClassName=\"editorClassName\"\n            onEditorStateChange={handleChangeContent}\n          />\n        </div>\n        <div className={s.handlers}>\n          <div>\n            <Switcher\n              defaultValue={importance}\n              onSwitchedOff={handleSwitch}\n              onSwitchedOn={handleSwitch}\n            />\n          </div>\n          <div className={s.buttons}>\n            <div>\n              <button className=\"cancel-button\" onClick={cancel}>\n                Отмена\n              </button>\n            </div>\n            <div>\n              <button\n                className=\"confirm-button\"\n                onClick={handleEdit}\n                disabled={editing}\n              >\n                Изменить\n              </button>\n              <div className=\"button-loader\">\n                {editing && <Loader size=\"small\" />}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PostEditor;","import React, { useEffect, useRef, useState } from \"react\";\nimport dayjs from \"dayjs\";\nimport cl from \"classnames\";\nimport useEmbed from \"../../hooks/useEmbed\";\nimport s from \"./post.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DropdownMenu from \"../DropdownMenu\";\nimport { postDeleted } from \"../../redux/ducks/posts\";\nimport Popup from \"../common/Popup\";\nimport PostEditor from \"../PostEditor\";\nimport Calendar from \"dayjs/plugin/calendar\";\n\nfunction Post({ item, isAdmin }) {\n  const dispatch = useDispatch();\n  const ref = useRef(null);\n\n  const deleting = useSelector((state) => state.posts.deleting);\n\n  const embedHook = useEmbed(item);\n\n  useEffect(() => {\n    if (embedHook !== null) {\n      ref.current.append(embedHook);\n    }\n  }, [embedHook]);\n\n  const [popup, setPopup] = useState(false);\n  const handlePopup = () => setPopup(!popup);\n\n  const [editor, setEditor] = useState(false);\n  const handleEditor = () => setEditor(!editor);\n\n  const [clicked, setClicked] = useState(false);\n\n  const handleDelete = (e) => {\n    setClicked(true);\n    e.stopPropagation();\n    dispatch(postDeleted(item._id));\n  };\n\n  dayjs.extend(Calendar);\n\n  if (!deleting && clicked) {\n    handlePopup();\n    setClicked(false);\n  }\n\n  return (\n    <div\n      id={item._id}\n      className={cl(s.card, {\n        [s.importantCard]: item.important,\n      })}\n    >\n      <div className=\"time1\">\n        {dayjs(item.createdDate).calendar(null, {\n          sameDay: \"[Сегодня] HH:mm\",\n          lastDay: \"[Вчера] HH:mm\",\n          lastWeek: \"dddd HH:mm\",\n          sameElse: \"DD/MM/YYYY\",\n        })}\n        {isAdmin ? (\n          <DropdownMenu handlePopup={handlePopup} handleEditor={handleEditor} />\n        ) : null}\n      </div>\n      <div className=\"title\">{item.title}</div>\n      <div className=\"content\" ref={ref} />\n\n      <Popup\n        isOpened={popup}\n        cancel={handlePopup}\n        action={handleDelete}\n        text={\"Подтвердите действие\"}\n        deleting={deleting}\n      />\n      <PostEditor item={item} isOpened={editor} cancel={handleEditor} />\n    </div>\n  );\n}\n\nexport default Post;\n","import { useEffect, useState } from \"react\";\nimport { getScriptNode } from \"../utils/getScriptNode\";\nimport { isLink } from \"../utils/isLink\";\n\nexport default function useEmbed(item) {\n  const [result, setResult] = useState(null);\n\n  useEffect(() => {\n    // const splittedContent = item.content.split(/(:?\\s)(https?:[^\\s<]+)/);\n    const splittedContent = item.content.split(/(https:\\S+)/);\n    const divForContent = document.createElement(\"div\");\n\n    splittedContent.forEach((part) => {\n      if (isLink(part)) {\n        const node = getScriptNode(part);\n        const script = document.createElement(\"script\");\n        script.async = true;\n        script.src = \"//www.instagram.com/embed.js\";\n\n        if (node instanceof Promise) {\n          node.then((e) => {\n            divForContent.innerHTML = e;\n            divForContent.append(script);\n          });\n        } else {\n          divForContent.append(getScriptNode(part));\n        }\n      } else {\n        divForContent.insertAdjacentHTML(\"beforeend\", part);\n      }\n    });\n\n    setResult(divForContent);\n\n    return () => {\n      divForContent.remove();\n    };\n  }, [item]);\n\n  return result;\n}\n","export const isLink = (string) => string.indexOf(\"https\") === 0;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport s from \"./PostsSliceButtons.module.css\";\nimport cl from \"classnames\";\nimport { postsCountSet } from \"../../redux/ducks/onlines\";\n\nfunction PostsSliceButtons() {\n  const id = useParams().id;\n\n  const postsCount = useSelector(({ onlines }) => {\n    if (onlines.postsCount.hasOwnProperty(id)) {\n      return onlines.postsCount[id];\n    }\n\n    return -1;\n  });\n\n  const dispatch = useDispatch();\n\n  const setCount = (count) => {\n    dispatch(postsCountSet(id, count));\n  };\n\n  return (\n    <div className={s.buttonsGroup}>\n      <span className={s.text}>Выводить записи</span>\n      <button\n        onClick={() => setCount(10)}\n        className={cl(s.button, {\n          [s.activeButton]: postsCount === 10,\n        })}\n      >\n        10\n      </button>\n      <button\n        onClick={() => setCount(30)}\n        className={cl(s.button, {\n          [s.activeButton]: postsCount === 30,\n        })}\n      >\n        30\n      </button>\n      <button\n        onClick={() => setCount(50)}\n        className={cl(s.button, {\n          [s.activeButton]: postsCount === 50,\n        })}\n      >\n        50\n      </button>\n      <button\n        onClick={() => setCount(-1)}\n        className={cl(`${s.button} ${s.endButton}`, {\n          [s.activeButton]: postsCount === -1,\n        })}\n      >\n        все\n      </button>\n    </div>\n  );\n}\n\nexport default PostsSliceButtons;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { backpostsAppended } from \"../../redux/ducks/posts\";\nimport s from \"./backpostsLoader.module.css\";\n\nfunction BackpostsLoader() {\n  const dispatch = useDispatch();\n  const temp = useSelector((state) => state.posts.temp);\n\n  const appendBackposts = () => dispatch(backpostsAppended());\n\n  return (\n    <div className={s.backpostsLoader} onClick={appendBackposts}>\n      <div className={s.inner}>\n        Загрузить новые посты ({temp.length})\n      </div>\n    </div>\n  );\n}\n\nexport default BackpostsLoader;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport Post from \"../Post\";\nimport { orderReversed } from \"../../redux/ducks/onlines\";\nimport Switcher from \"../Switcher\";\nimport PostsSliceButtons from \"../PostsSliceButtons\";\nimport s from \"./posts.module.css\";\nimport BackpostsLoader from \"../BackpostsLoader\";\nimport { CSSTransition } from \"react-transition-group\";\nimport downwardIcon from \"./arrow_downward-24px.svg\";\nimport upwardIcon from \"./arrow_upward-24px.svg\";\n\nfunction Posts() {\n  const dispatch = useDispatch();\n  const id = useParams().id;\n\n  const temp = useSelector((state) => state.posts.temp);\n\n  const reversed = useSelector(({ onlines }) => {\n    if (onlines.reversed.hasOwnProperty(id)) {\n      return onlines.reversed[id];\n    }\n\n    return false;\n  });\n\n  const postsCount = useSelector(({ onlines }) => {\n    if (onlines.postsCount.hasOwnProperty(id)) {\n      return onlines.postsCount[id];\n    }\n\n    return -1;\n  });\n\n  const items = useSelector((state) => {\n    const newItems = reversed\n      ? [...state.posts.items].sort(\n          (a, b) => new Date(a.createdDate) - new Date(b.createdDate)\n        )\n      : [...state.posts.items].sort(\n          (a, b) => new Date(b.createdDate) - new Date(a.createdDate)\n        );\n\n    if (postsCount !== -1) {\n      return newItems.slice(0, postsCount);\n    }\n\n    return newItems;\n  });\n\n  const reverseOrder = () => {\n    dispatch(orderReversed(id));\n  };\n\n  const handleSwitch = () => reverseOrder();\n\n\n  return (\n    <div className={s.post}>\n      <div className={s.handlers}>\n        <PostsSliceButtons />\n        <Switcher\n          defaultValue={reversed}\n          onSwitchedOn={handleSwitch}\n          onSwitchedOff={handleSwitch}\n        />\n      </div>\n      <CSSTransition\n        in={temp.length !== 0}\n        timeout={300}\n        classNames=\"backposts-loader\"\n        unmountOnExit\n      >\n        <BackpostsLoader />\n      </CSSTransition>\n      <div>\n        {items.map((item) => {\n          if (item.separate) {\n            return (\n              <div className={s.newPostsBorder} key={item._id}>\n                <img src={reversed ? downwardIcon : upwardIcon} alt=\"icon\" />{\" \"}\n                {item.content}{\" \"}\n                <img src={reversed ? downwardIcon : upwardIcon} alt=\"icon\" />\n              </div>\n            );\n          }\n          return <Post item={item} key={item._id} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default Posts;\n","import React from \"react\";\nimport dayjs from \"dayjs\";\nimport s from \"./mainEvent.module.css\";\n\nfunction MainEvent({ item }) {\n  const handleScroll = () => {\n    const targetDOMElement = document.getElementById(item._id);\n    targetDOMElement.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\n  };\n\n  return (\n    <div className={s.mainEvent} onClick={handleScroll}>\n      <div className={s.time}>\n        <div className={s.checkpoint} />\n        {dayjs(item.createdDate).format(\"HH:mm\")}\n      </div>\n      <div className={s.text}>{item.title}</div>\n    </div>\n  );\n}\n\nexport default MainEvent;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport MainEvent from \"../MainEvent\";\nimport s from \"./mainEvents.module.css\";\n\nfunction MainEvents({ isOpened }) {\n  const id = useParams().id;\n\n  const reversed = useSelector(({ onlines }) => {\n    if (onlines.reversed.hasOwnProperty(id)) {\n      return onlines.reversed[id];\n    }\n\n    return false;\n  });\n\n  const postsCount = useSelector(({ onlines }) => {\n    if (onlines.postsCount.hasOwnProperty(id)) {\n      return onlines.postsCount[id];\n    }\n\n    return -1;\n  });\n\n  const items = useSelector((state) => {\n    const newItems = reversed\n      ? [...state.posts.items].sort(\n          (a, b) => new Date(a.createdDate) - new Date(b.createdDate)\n        )\n      : [...state.posts.items].sort(\n          (a, b) => new Date(b.createdDate) - new Date(a.createdDate)\n        );\n\n    if (postsCount !== -1) {\n      return newItems.slice(0, postsCount);\n    }\n\n    return newItems;\n  });\n\n  const filteredItems = items.filter(\n    (item) => item.hasOwnProperty(\"title\") && item.title !== \"\"\n  );\n\n  return (\n    <div className={s.mainEvents}>\n      <div className={s.title}>Ключевые моменты</div>\n      {filteredItems.map((item) => (\n        <MainEvent item={item} key={item._id} />\n      ))}\n    </div>\n  );\n}\n\nexport default MainEvents;\n","import React from \"react\";\nimport s from \"./mainEventsButton.module.css\";\nimport icon from \"./burger.svg\";\n\nfunction MainEventsButton({ handleMainEventsBar }) {\n  return (\n    <div>\n      <button onClick={handleMainEventsBar} className={s.button}>\n        <img src={icon} alt=\"Main events\" />\n      </button>\n    </div>\n  );\n}\n\nexport default MainEventsButton;\n","import React, { useEffect } from \"react\";\nimport Posts from \"../Posts\";\nimport MainEvents from \"../MainEvents\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport s from \"./postsPage.module.css\";\nimport MainEventsButton from \"../MainEventsButton\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Loader from \"../common/Loader\";\nimport { backgroundPostsLoaded, postsLoaded } from \"../../redux/ducks/posts\";\nimport { mainEventsBarHandled } from \"../../redux/ducks/onlines\";\n\nfunction PostsPage() {\n  const id = useParams().id;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(postsLoaded(id));\n  }, [dispatch, id]);\n\n  useEffect(() => {\n    const i = setInterval(() => {\n      dispatch(backgroundPostsLoaded(id));\n    }, 5000);\n    return () => clearInterval(i);\n  }, [dispatch, id]);\n\n  const mainEventsBarOpened = useSelector(({ onlines }) => {\n    if (onlines.mainEventsBarOpened.hasOwnProperty(id)) {\n      return onlines.mainEventsBarOpened[id];\n    }\n\n    return false;\n  });\n\n  const loading = useSelector((state) => state.posts.loading);\n\n  const handleMainEventsBar = () => {\n    dispatch(mainEventsBarHandled(id));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loader-large\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className={s.postsPage}>\n      <div className={s.posts}>\n        <Posts />\n      </div>\n      <MainEventsButton handleMainEventsBar={handleMainEventsBar} />\n      <CSSTransition\n        in={mainEventsBarOpened}\n        timeout={300}\n        classNames=\"transition\"\n        unmountOnExit\n      >\n        <MainEvents isOpened={1} />\n      </CSSTransition>\n    </div>\n  );\n}\n\nexport default PostsPage;\n","import { get, post } from \"../../api/api\";\n\nconst AUTH_STARTED = \"auth/process/started\";\nconst AUTH_SUCCEED = \"auth/process/succeed\";\nconst AUTH_FAILED = \"auth/process/failed\";\nconst AUTOLOGIN_RECEIVE_STARTED = \"autologin/receive/started\";\nconst AUTOLOGIN_RECEIVE_SUCCEED = \"autologin/receive/succeed\";\n\nconst initialState = {\n  loading: false,\n  success: false,\n  error: false,\n  isAdmin: false,\n  fetching: false,\n  authorized: false,\n  jwt: localStorage.getItem(\"token\"),\n};\n\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case AUTH_STARTED:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case AUTH_SUCCEED:\n      return {\n        ...state,\n        jwt: action.payload,\n        loading: false,\n        authorized: true,\n      };\n\n    case AUTH_FAILED:\n      return {\n        ...state,\n        error: action.payload.error,\n        loading: false,\n      };\n\n    case AUTOLOGIN_RECEIVE_STARTED:\n      return {\n        ...state,\n        fetching: true,\n      };\n\n    case AUTOLOGIN_RECEIVE_SUCCEED:\n      return {\n        ...state,\n        fetching: false,\n        isAdmin: action.payload.status === \"success\",\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function userAuthorised(login, password) {\n  return (dispatch) => {\n    dispatch({ type: AUTH_STARTED });\n\n    post(\"/auth\", { login, password }).then((json) => {\n      if (json.status === \"success\") {\n        if (json.hasOwnProperty(\"token\")) {\n          localStorage.setItem(\"token\", json.token);\n        }\n\n        dispatch({\n          type: AUTH_SUCCEED,\n          payload: json,\n        });\n      } else {\n        dispatch({\n          type: AUTH_FAILED,\n          payload: json,\n        });\n      }\n    });\n  };\n}\n\n// export function autologinReceived() {\n//   return (dispatch) => {\n//     dispatch({ type: AUTOLOGIN_RECEIVE_STARTED });\n//\n//     get(\"/autologin\").then((json) => {\n//       dispatch({\n//         type: AUTOLOGIN_RECEIVE_SUCCEED,\n//         payload: json,\n//       });\n//     });\n//   };\n// }\n","import React, { useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { userAuthorised } from \"../../redux/ducks/auth\";\nimport s from \"./auth.module.css\";\nimport { Redirect } from \"react-router-dom\";\nimport Loader from \"../common/Loader\";\nimport visibilityOnIcon from \"./visibility-black-18dp.svg\";\nimport visibilityOffIcon from \"./visibility_off-black-18dp.svg\";\n\nfunction Auth() {\n  const dispatch = useDispatch();\n  const loading = useSelector((state) => state.auth.loading);\n  const authorized = useSelector((state) => state.auth.authorized);\n\n  const [error, setError] = useState(false);\n\n  const [clicked, setClicked] = useState(false);\n\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [visibility, setVisibility] = useState(false);\n\n  const passwordRef = useRef(null);\n\n  const setPasswordVisible = () => {\n    passwordRef.current.focus();\n    setVisibility(!visibility);\n  };\n\n  const handleChangeUsername = (e) => {\n    setLogin(e.target.value);\n  };\n\n  const handleChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleClick = () => {\n    setError(false);\n    dispatch(userAuthorised(login, password));\n    setClicked(true);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      handleClick();\n    }\n  };\n\n  const emptyForms = login === \"\" || password === \"\";\n\n  if (!loading && clicked) {\n    if (authorized) {\n      return <Redirect to=\"/admin\" />;\n    } else {\n      setError(true);\n    }\n\n    setClicked(false);\n  }\n\n  return (\n    <div className={s.auth}>\n      <input\n        placeholder=\"Введите имя пользователя\"\n        value={login}\n        onChange={handleChangeUsername}\n        className={s.input}\n        onKeyDown={handleKeyDown}\n      />\n      <div className={s.password}>\n        <input\n          placeholder=\"Введите пароль\"\n          value={password}\n          onChange={handleChangePassword}\n          className={s.input}\n          onKeyDown={handleKeyDown}\n          type={!visibility ? \"password\" : \"\"}\n          ref={passwordRef}\n        />\n        {password === \"\" ? null : (\n          <button onClick={setPasswordVisible} className={s.visibility}>\n            <img src={!visibility ? visibilityOnIcon : visibilityOffIcon} alt=\"visibility\"/>\n          </button>\n        )}\n      </div>\n      <div>\n        <button\n          type=\"submit\"\n          onClick={handleClick}\n          className={s.button}\n          disabled={loading || emptyForms}\n        >\n          Войти\n        </button>\n      </div>\n      <div className={s.loader}>\n        {loading && clicked && <Loader size=\"small\" />}\n      </div>\n      <div className={s.error}>{error && \"ошибка\"}</div>\n    </div>\n  );\n}\n\nexport default Auth;","import React from \"react\";\nimport Auth from \"../Auth\";\n\nfunction AuthPage() {\n  return (\n    <>\n      <Auth />\n    </>\n  );\n}\n\nexport default AuthPage;\n","import React from \"react\";\nimport s from \"./CreatorButton.module.css\";\n\nfunction CreatorButton({ handleClick, text }) {\n  return (\n    <div>\n      <button className={s.button} onClick={handleClick}>\n        {text}\n      </button>\n    </div>\n  );\n}\n\nexport default CreatorButton;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { convertToRaw, EditorState } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport dayjs from \"dayjs\";\nimport s from \"./onlineCreator.module.css\";\nimport BroadcastCreatorButton from \"../CreatorButton\";\nimport { onlineCreated } from \"../../redux/ducks/onlines\";\nimport Loader from \"../common/Loader\";\n\nfunction OnlineCreator() {\n  const m = useRouteMatch(\"/admin/add\");\n  const creating = useSelector((state) => state.onlines.creating);\n\n  const dispatch = useDispatch();\n  const [broadcastCreator, setBroadcastCreator] = useState(m);\n\n  const [title, setTitle] = useState(\"\");\n  const handleChangeTitle = (e) => setTitle(e.target.value);\n\n  const [content, setContent] = useState(EditorState.createEmpty());\n  const handleChangeContent = (editorState) => setContent(editorState);\n\n  const [clicked, setClicked] = useState(false);\n\n  const [creatorOpened, setCreatorOpened] = useState(false);\n\n  const handleBroadcastCreator = () => {\n    setCreatorOpened(false);\n    setBroadcastCreator(!broadcastCreator);\n  };\n\n  const isEmpty = content.getCurrentContent().getPlainText().length === 0;\n\n  const handleAddBroadcast = () => {\n    setClicked(true);\n    dispatch(\n      onlineCreated(\n        title,\n        draftToHtml(convertToRaw(content.getCurrentContent()))\n      )\n    );\n  };\n\n  const setEditorReference = (ref) => !creatorOpened && ref?.focus();\n\n  if (!creating && clicked) {\n    setTitle(\"\");\n    setContent(EditorState.createEmpty());\n    setClicked(false);\n  }\n\n  if (!broadcastCreator) {\n    return (\n      <BroadcastCreatorButton\n        handleClick={handleBroadcastCreator}\n        text=\"Новая трансляция...\"\n      />\n    );\n  }\n\n  return (\n    <div className=\"online-form\">\n      <div className={s.time}>{dayjs(new Date()).format(\"HH:mm\")}</div>\n      <div>\n        <textarea\n          className=\"title\"\n          placeholder=\"Введите заголовок\"\n          value={title}\n          onChange={handleChangeTitle}\n        />\n      </div>\n      <div>\n        <Editor\n          editorRef={setEditorReference}\n          editorState={content}\n          placeholder=\"Введите контент\"\n          toolbarClassName=\"toolbarClassName\"\n          wrapperClassName=\"wrapperClassName\"\n          editorClassName=\"editorClassName\"\n          onEditorStateChange={handleChangeContent}\n          onBlur={() => setCreatorOpened(true)}\n        />\n      </div>\n      <div className={s.buttons}>\n        <div>\n          <button className=\"cancel-button\" onClick={handleBroadcastCreator}>\n            Отмена\n          </button>\n        </div>\n        <div>\n          <button\n            className=\"confirm-button\"\n            onClick={handleAddBroadcast}\n            disabled={creating || isEmpty}\n          >\n            Добавить\n          </button>\n          <div className=\"button-loader\">{creating && <Loader size=\"small\" />}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default OnlineCreator;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Online from \"../Online\";\nimport OnlineCreator from \"../OnlineCreator\";\nimport { onlinesLoaded } from \"../../redux/ducks/onlines\";\nimport Loader from \"../common/Loader\";\n\nfunction AdminOnlines({ isAdmin }) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(onlinesLoaded());\n  }, [dispatch]);\n\n  const onlines = useSelector((state) =>\n    state.onlines.items.sort(\n      (a, b) => new Date(b.startedDate) - new Date(a.startedDate)\n    )\n  );\n\n  const loading = useSelector((state) => state.onlines.loading);\n\n  if (loading) {\n    return (\n      <div className=\"loader-large\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <OnlineCreator />\n      <div>\n        {onlines.map((online) => (\n          <Online online={online} key={online._id} isAdmin={isAdmin} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminOnlines;","import React from \"react\";\nimport AdminOnlines from \"../AdminOnlines\";\n\nfunction AdminPage({ isAdmin }) {\n  return (\n    <>\n      <AdminOnlines isAdmin={isAdmin} />\n    </>\n  );\n}\n\nexport default AdminPage;\n","import React, { useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { convertToRaw, EditorState } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport dayjs from \"dayjs\";\nimport CreatorButton from \"../CreatorButton\";\nimport s from \"./postCreator.module.css\";\nimport { postCreated } from \"../../redux/ducks/posts\";\nimport cl from \"classnames\";\nimport Switcher from \"../Switcher\";\nimport Loader from \"../common/Loader\";\n\nfunction PostCreator() {\n  const id = useParams().id;\n  const dispatch = useDispatch();\n  const creating = useSelector((state) => state.posts.creating);\n  const [postCreator, setPostCreator] = useState(false);\n\n  const [title, setTitle] = useState(\"\");\n  const handleChangeTitle = (e) => setTitle(e.target.value);\n\n  const [content, setContent] = useState(EditorState.createEmpty());\n  const handleChangeContent = (editorState) => setContent(editorState);\n\n  const [clicked, setClicked] = useState(false);\n\n  const editorRef = useRef(null);\n\n  const [importance, setImportance] = useState(false);\n  const handleSwitch = () => setImportance(!importance);\n\n  const [creatorOpened, setCreatorOpened] = useState(false);\n\n  const setEditorReference = (ref) => !creatorOpened && ref?.focus();\n\n  const handlePostCreator = () => {\n    setCreatorOpened(false);\n    setPostCreator(!postCreator);\n  };\n\n  const handleCreatePost = () => {\n    setClicked(true);\n    dispatch(\n      postCreated(\n        id,\n        title,\n        draftToHtml(convertToRaw(content.getCurrentContent())),\n        importance\n      )\n    );\n  };\n\n  if (!creating && clicked) {\n    setTitle(\"\");\n    setContent(\"\");\n    setImportance(false);\n    setClicked(false);\n  }\n\n  if (!postCreator) {\n    return (\n      <CreatorButton handleClick={handlePostCreator} text=\"Новый пост...\" />\n    );\n  }\n\n  return (\n    <div\n      className={cl(s.postCreator, {\n        [s.importantPostCreator]: importance,\n      })}\n    >\n      <div className={s.time}>{dayjs(new Date()).format(\"HH:mm\")}</div>\n      <div>\n        <textarea\n          ref={editorRef}\n          className=\"title\"\n          placeholder=\"Введите заголовок\"\n          value={title}\n          onChange={handleChangeTitle}\n        />\n      </div>\n      <div>\n        <Editor\n          editorRef={setEditorReference}\n          editorState={content}\n          placeholder=\"Введите контент\"\n          toolbarClassName=\"toolbarClassName\"\n          wrapperClassName=\"wrapperClassName\"\n          editorClassName=\"editorClassName\"\n          onEditorStateChange={handleChangeContent}\n          onBlur={() => setCreatorOpened(true)}\n        />\n      </div>\n      <div className={s.handlers}>\n        <div className={s.importance}>\n          <Switcher\n            defaultValue={importance}\n            onSwitchedOff={handleSwitch}\n            onSwitchedOn={handleSwitch}\n          />\n        </div>\n        <div className={s.buttons}>\n          <div>\n            <button className=\"cancel-button\" onClick={handlePostCreator}>\n              Отмена\n            </button>\n          </div>\n          <div>\n            <button\n              className=\"confirm-button\"\n              onClick={handleCreatePost}\n              disabled={creating}\n            >\n              Добавить\n            </button>\n            <div className=\"button-loader\">\n              {creating && <Loader size=\"small\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PostCreator;\n","import React, { useEffect } from \"react\";\nimport { postsLoaded } from \"../../redux/ducks/posts\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Post from \"../Post\";\nimport PostCreator from \"../PostCreator\";\nimport s from \"../PostsPage/postsPage.module.css\";\nimport Loader from \"../common/Loader\";\n\nfunction AdminPosts({ isAdmin }) {\n  const id = useParams().id;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(postsLoaded(id));\n  }, [dispatch, id]);\n\n  const items = useSelector((state) =>\n    state.posts.items.sort(\n      (a, b) => new Date(b.createdDate) - new Date(a.createdDate)\n    )\n  );\n\n  const loading = useSelector((state) => state.posts.loading);\n\n  if (loading) {\n    return (\n      <div className=\"loader-large\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <PostCreator />\n      <div>\n        {items.map((item) => (\n          <Post item={item} isAdmin={isAdmin} key={item._id} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPosts;\n","import { useEffect, useMemo, useState } from \"react\";\nimport { get } from \"../api/api\";\n\nexport default function useLogin() {\n  const [admin, setAdmin] = useState(false);\n  const [fetching, setFetching] = useState(true);\n\n  useEffect(() => {\n    get(\"/autologin\").then((json) => {\n      if (json.status === \"success\") {\n        setAdmin(true);\n      }\n\n      setFetching(false);\n    });\n  }, [setAdmin, setFetching]);\n\n  return useMemo(() => [admin, fetching], [admin, fetching]);\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport AdminPage from \"../AdminPage\";\nimport AdminPosts from \"../AdminPosts\";\nimport useLogin from \"../../hooks/useLogin\";\n\nfunction ProtectedRoute({ path }) {\n  const [isAdmin, fetching] = useLogin();\n\n  if (fetching) {\n    return null;\n  }\n\n  if (!isAdmin) {\n    return <Redirect to=\"/auth\" />;\n  }\n\n  return (\n    <>\n      <Route exact path={path}>\n        <AdminPage isAdmin={isAdmin} />\n      </Route>\n      <Route exact path={`${path}/:id`}>\n        <AdminPosts isAdmin={isAdmin} />\n      </Route>\n    </>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport OnlinesPage from \"../OnlinesPage\";\nimport PostsPage from \"../PostsPage\";\nimport AuthPage from \"../AuthPage\";\nimport ProtectedRoute from \"../ProtectedRoute\";\n\nfunction Pages() {\n  return (\n    <div>\n      <Switch>\n        <Route exact path=\"/\">\n          <OnlinesPage />\n        </Route>\n        <Route path=\"/auth\">\n          <AuthPage />\n        </Route>\n        <ProtectedRoute path=\"/admin\" />\n        <Route path=\"/:id\">\n          <PostsPage />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default Pages;\n","import React from \"react\";\nimport \"./app.css\";\nimport Pages from \"../Pages\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport updateLocale from \"dayjs/plugin/updateLocale\";\n\nfunction App() {\n  dayjs.extend(updateLocale);\n  dayjs.updateLocale(\"en\", {\n    weekdays: [\n      \"Воскресенье\",\n      \"Понедельник\",\n      \"Вторник\",\n      \"Среда\",\n      \"Четверг\",\n      \"Пятница\",\n      \"Суббота\",\n    ],\n  });\n\n  return (\n    <div className=\"app\">\n      <BrowserRouter>\n        <Pages />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger/src\";\nimport onlines from \"./ducks/onlines\";\nimport posts from \"./ducks/posts\";\nimport auth from \"./ducks/auth\";\n\nconst logger = createLogger({\n  diff: true,\n  collapsed: true,\n});\n\nlet middlewares;\n\nif (process.env.NODE_ENV === \"development\") {\n  middlewares = applyMiddleware(logger, thunk);\n} else {\n  middlewares = applyMiddleware(thunk);\n}\n\nconst reducer = combineReducers({ onlines, posts, auth });\n\nexport const store = createStore(reducer, middlewares);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/configureStore\";\nimport \"normalize.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"auth_auth__IFtRK\",\"input\":\"auth_input__ON05b\",\"loader\":\"auth_loader__3w7FJ\",\"error\":\"auth_error__2Xva7\",\"button\":\"auth_button__1f-BD\",\"visibility\":\"auth_visibility__1TBKy\",\"password\":\"auth_password__sDWxm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postCreator\":\"postCreator_postCreator__32FZ6\",\"importantPostCreator\":\"postCreator_importantPostCreator__1tC4P\",\"time\":\"postCreator_time__1-lUP\",\"handlers\":\"postCreator_handlers__3VYCd\",\"buttons\":\"postCreator_buttons__2CH3b\",\"importance\":\"postCreator_importance__1G9ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postEditor\":\"postEditor_postEditor__l--cL\",\"importantPostEditor\":\"postEditor_importantPostEditor__3tpkv\",\"time\":\"postEditor_time__2m1Pj\",\"handlers\":\"postEditor_handlers__2ppc1\",\"buttons\":\"postEditor_buttons__3UvAQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"popup_background__IfYZO\",\"buttons\":\"popup_buttons__28bpo\",\"popup\":\"popup_popup__VlIZv\",\"loader\":\"popup_loader__1Qvfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switcher\":\"button_switcher__3xLCH\",\"switcherDisabled\":\"button_switcherDisabled__12WaZ\",\"backgroundOff\":\"button_backgroundOff__2WmDo\",\"backgroundOn\":\"button_backgroundOn__3GKax\",\"round\":\"button_round__2MCJw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainEvent\":\"mainEvent_mainEvent__3mryd\",\"checkpoint\":\"mainEvent_checkpoint__2tZ63\",\"text\":\"mainEvent_text__1bTXw\",\"time\":\"mainEvent_time__-wPll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownItem\":\"dropdown_dropdownItem__1zTbg\",\"dropdown\":\"dropdown_dropdown__2MQdq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsPage\":\"postsPage_postsPage__KG2DN\",\"posts\":\"postsPage_posts__3avaI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"large\":\"loader_large__1BwFb\",\"small\":\"loader_small__2VoRA\",\"loader\":\"loader_loader__3_a-M\",\"spin\":\"loader_spin__ZK37A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onlineEditor\":\"onlineEditor_onlineEditor__3apFc\",\"time\":\"onlineEditor_time__PvrOY\",\"buttons\":\"onlineEditor_buttons__1fKwj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"handlers\":\"posts_handlers__37mXQ\",\"post\":\"posts_post__qZoDJ\",\"buttons\":\"posts_buttons__1RTHx\",\"newPostsBorder\":\"posts_newPostsBorder__3jfl7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"post_card__EOpWs\",\"importantCard\":\"post_importantCard__2pKST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backpostsLoader\":\"backpostsLoader_backpostsLoader__37r16\",\"inner\":\"backpostsLoader_inner__2trTK\"};","module.exports = __webpack_public_path__ + \"static/media/arrow_downward-24px.28818c19.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_upward-24px.84e5e9b6.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainEvents\":\"mainEvents_mainEvents__223-Y\",\"title\":\"mainEvents_title__3AGU1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"onlineCreator_time__3a6FK\",\"buttons\":\"onlineCreator_buttons__1iCfq\"};"],"sourceRoot":""}